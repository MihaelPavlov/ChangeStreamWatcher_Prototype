@page "/"
@using ChangeStreamWatcher_Blazor.Services
@inject ChangeStreamWatcher watcher
<h1>Hello, world!</h1>

Welcome to your new app.
<MudButton Variant="Variant.Filled" OnClick="@(async () => await watcher.Start())" Disabled="@watcher.Initialized" Color="Color.Primary">@ChangeButtonContent()</MudButton>

<SurveyPrompt Title="How is Blazor working for you?" />

@code
{

    public string ChangeButtonContent()
    {
        return !watcher.Initialized ? "Start Stream Watcher" : "Started";
    }
}
